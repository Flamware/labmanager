<html xmlns:th="http://www.thymeleaf.org">

    <th:block th:fragment="style">
            <meta charset="utf-8">
            <meta http-equiv="x-ua-compatible" content="ie=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1">

            <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
            <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
            <link rel="stylesheet" th:href="@{/css/themify-icons.css}">
            <link rel="stylesheet" th:href="@{/css/metisMenu.css}">
            <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
            <link rel="stylesheet" th:href="@{/css/slicknav.min.css}">
            <!-- amchart css -->
            <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
            <!-- others css -->
            <link rel="stylesheet" th:href="@{/css/typography.css}">
            <link rel="stylesheet" th:href="@{/css/default-css.css}">
            <link rel="stylesheet" th:href="@{/css/styles.css}">
            <link rel="stylesheet" th:href="@{/css/responsive.css}">



            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.22/af-2.3.5/b-1.6.5/b-colvis-1.6.5/b-flash-1.6.5/b-html5-1.6.5/b-print-1.6.5/cr-1.5.3/fc-3.3.2/fh-3.1.7/kt-2.5.3/r-2.2.6/rg-1.1.2/rr-1.2.7/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.1/datatables.min.css"/>
            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.2/css/searchPanes.bootstrap4.min.css">
            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.1/css/select.bootstrap4.min.css">
            <style>
                /*a {*/
                /*    color: #96c10d !important;*/
                /*}*/

                #left-area {
                    width: 100% !important;
                }
        </style>
    </th:block>
    
    <th:block th:fragment="sharedScript">
        <!-- modernizr css -->
        <script th:src="@{/js/vendor/modernizr-2.8.3.min.js}"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.22/af-2.3.5/b-1.6.5/b-colvis-1.6.5/b-flash-1.6.5/b-html5-1.6.5/b-print-1.6.5/cr-1.5.3/fc-3.3.2/fh-3.1.7/kt-2.5.3/r-2.2.6/rg-1.1.2/rr-1.2.7/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.1/datatables.min.js"></script>

        <!-- offset area end -->
        <!-- bootstrap 4 js -->
        <script th:src="@{/js/popper.min.js}"></script>
        <script th:src="@{/js/bootstrap.min.js}"></script>
        <script th:src="@{/js/owl.carousel.min.js}"></script>
        <script th:src="@{/js/metisMenu.min.js}"></script>
        <script th:src="@{/js/jquery.slimscroll.min.js}"></script>
        <script th:src="@{/js/jquery.slicknav.min.js}"></script>

        <!-- start chart js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
        <!-- start highcharts js -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/modules/export-data.js"></script>
        <!-- start amcharts -->
        <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
        <script src="https://www.amcharts.com/lib/3/ammap.js"></script>
        <script src="https://www.amcharts.com/lib/3/maps/js/worldLow.js"></script>
        <script src="https://www.amcharts.com/lib/3/serial.js"></script>
        <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
        <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
        <!-- all line chart activation -->
        <script th:src="@{/js/line-chart.js}"></script>
        <!-- all pie chart -->
        <script th:src="@{/js/pie-chart.js}"></script>
        <!-- all bar chart -->
        <script th:src="@{/js/bar-chart.js}"></script>
        <!-- all map chart -->
        <script th:src="@{/js/maps.js}"></script>
        <!-- others plugins -->
        <script th:src="@{/js/plugins.js}"></script>
        <script th:src="@{/js/scripts.js}"></script>
        
        <script th:inline="javascript">
    	String.prototype.format = function () {
    		// store arguments in an array
    		var args = arguments;
    		// use replace to iterate over the string
    		// select the match and check if the related argument is present
    		// if yes, replace the match with the argument
    		return this.replace(/{([0-9]+)}/g, function (match, index) {
    			// check if the argument is present
    			return typeof args[index] == 'undefined' ? match : args[index];
    		});
    	};
    	</script>
    </th:block>
 
    <th:block th:fragment="sharedScriptDeletionButton">
        <script>
     	function installDeletionButtonCallback( bt, bxTitle, bxMessage, deletionUrl, successMsg, failureMsg, elementName, successCallback ) {
    	    bt.on('click', function(e) {
    	    	Swal.fire( {
    	   		  title: bxTitle,
    	   		  text: bxMessage,
    	   		  icon: 'question',
    	   		  showCancelButton: true,
    	   		  confirmButtonColor: '#d33',
    	   		  cancelButtonColor: '#99cc00',
    	   		  confirmButtonText: "[(#{html.YesDeleteIt})]"
    	   		} ).then(result => {
    				if (result.isConfirmed) {
    					fetch(deletionUrl, {
    			    	    method:'DELETE'
    			    	} ).then(response => {
    			    		if (response.ok) {
    							Swal.fire(
    							  "[(#{html.Deleted})]",
    							  successMsg,
    							  'success'
    							).then(result => {
    			    				if (result.isConfirmed) {
    	    							successCallback();
    			    				}
    							});
    			    		} else {
    			    			var boxmsg = '' + response.status;
    			    			if (response.statusText) {
    			    				boxmsg = boxmsg + ' - ' + response.statusText;
    			    			}
    							Swal.fire(
    							  "[(#{html.Error})]",
    							  failureMsg.format(elementName, boxmsg),
    							  'error'
    							);
    			    		}
    			    	} ).catch(err => {
    						Swal.fire(
    						  "[(#{html.Error})]",
    						  failureMsg.format(elementName, err),
    						  'error'
    						);
    			    	} );
			    		return response.text();
    				}
    	   		} );
    	    } );
    	}
        </script>
     </th:block>
 
 
    <th:block th:fragment="extensionMethodsForSelect2">
        <script>
        // Prepare a "select2 object with the appropriate configuration for multi-selection and user tags
     	function select2_prepare_multiple( $selectList, placeHolderText, dataArray ) {
     		$selectList.select2( {
     			multiple: true,
     			placeholder: placeHolderText,
     			allowClear: true,
     			tokenSeparators: [',', ';'],
     			tags: true, // Allow free text
     			createTag: function (params) {
     				var term = $.trim(params.term);
     				if (term === '') {
     					return null;
     				}
     				return {
     					id: term,
     					text: term,
     					newTag: true
     				}
     			},
     			// Data
     			data: dataArray
     		}).val(null).trigger('change');
    	}
        // Install the event handler for keeping the input order from the user.
        // This function supports a single-level of hierarchy in data
     	function select2_keepInputOrder_dynamic( $selectList, selectListName ) {
     		// Keep the input order of the authors
     		// Credits to "kevin-brown" @ http://github.com/select2/select2/issues/3106
     		// This code is executed during user interaction only 
     		$selectList.on("select2:select", function (evt) {
     			var element = evt.params.data.element;
     			var $element = $(element);
     			$element.detach();
     			$(this).append($element);
     			$(this).trigger("change");
     		});
    	}
        // Initialize the "select2" object by keeping the order in the provided array
        // This function supports a single-level of hierarchy in data
     	function select2_initializeWithOrderKeeping( selectListName, initialListOfEntries) {
     		var $selectList = $("#" + selectListName);
     		$.each(initialListOfEntries, function (j, obj) {
     	    	var $child = $("#" + selectListName + " option[value=" + obj + "]");
     	    	if ($child) {
     	    		var text = $child.text();
     	    		$child.remove();
     	    		$selectList.append(new Option(text , obj, true, false));
     	    	}
     		});
     		$selectList.val(initialListOfEntries).trigger("change");
     	}
        </script>
     </th:block>
    
</html>